{% extends "league/base.html" %}
{% load static %}

{% block content %}

<div class="max-w-7xl mx-auto mt-10 bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/20">

  <h1 class="text-4xl font-bold text-gray-100 mb-6 text-center">All Players</h1>

  <table class="w-full text-left text-gray-200">
    <thead>
      <tr class="border-b border-white/20 text-sm">
        <th class="py-2 pr-6">Player</th>
        <th class="py-2 px-4">Position</th>
        <th class="py-2 px-4">Club</th>
        <th class="py-2 text-center px-4">Apps</th>
        <th class="py-2 text-center px-4">Goals</th>
        <th class="py-2 text-center px-4">Assists</th>
        <th class="py-2 text-center px-4">CS</th>
        <th class="py-2 text-center px-4">AMR</th>
        <th class="py-2 text-center px-4">MOTM</th>
        <th class="py-2 px-4">Awards</th>
      </tr>
    </thead>

    <tbody>
      {% for entry in player_data %}
      <tr class="border-b border-white/10 text-sm">
        <td class="py-2 pr-6">
          <a href="/player/{{ entry.player.id }}/" class="hover:text-yellow-400 transition">
            {{ entry.player.gamertag }}
          </a>
        </td>

        <td class="py-2 px-4">{{ entry.player.position }}</td>
        <td class="py-2 px-4">{{ entry.club }}</td>

        <td class="py-2 text-center px-4">{{ entry.apps }}</td>
        <td class="py-2 text-center px-4">{{ entry.goals }}</td>
        <td class="py-2 text-center px-4">{{ entry.assists }}</td>
        <td class="py-2 text-center px-4">{{ entry.clean_sheets }}</td>

        <td class="py-2 text-center px-4">
          {% if entry.avg_rating %}
            {{ entry.avg_rating }}
          {% else %}
            –
          {% endif %}
        </td>

        <td class="py-2 text-center px-4">
          {% if entry.motm_count > 0 %}
            {{ entry.motm_count }}
          {% else %}
            –
          {% endif %}
        </td>

        <td class="py-2 px-4">
          {% if entry.awards %}
            {{ entry.awards|join:", " }}
          {% else %}
            <span class="text-gray-500">–</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>

{% endblock %}
